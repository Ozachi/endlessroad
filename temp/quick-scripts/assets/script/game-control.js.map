{"version":3,"sources":["game-control.js"],"names":["cc","Class","extends","Component","properties","startDoorPrefab","Prefab","endDoorPrefab","playerPrefab","boardPrefab","onLoad","createThings","startDoorNode","instantiate","find","addChild","setPosition","getRandomPosition","endDoorNode","playerNode","getPosition","board1Node","board2Node","door","randY","randX","random0To1","p"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAgBL,GAAGM,MADX;AAERC,uBAAcP,GAAGM,MAFT;AAGRE,sBAAaR,GAAGM,MAHR;AAIRG,qBAAYT,GAAGM;;AAJP,KAHP;;AAWLI,YAAO,kBAAW;AACd,aAAKC,YAAL;AAEH,KAdI;AAeLA,kBAAa,wBAAU;AACnB;AACA,YAAIC,gBAAgBZ,GAAGa,WAAH,CAAe,KAAKR,eAApB,CAApB;AACAL,WAAGc,IAAH,CAAQ,eAAR,EAAyBC,QAAzB,CAAkCH,aAAlC;AACAA,sBAAcI,WAAd,CAA0B,KAAKC,iBAAL,CAAuB,CAAvB,CAA1B;AACA;AACA,YAAIC,cAAclB,GAAGa,WAAH,CAAe,KAAKN,aAApB,CAAlB;AACAP,WAAGc,IAAH,CAAQ,eAAR,EAAyBC,QAAzB,CAAkCG,WAAlC;AACAA,oBAAYF,WAAZ,CAAwB,KAAKC,iBAAL,CAAuB,CAAvB,CAAxB;AACA;AACA,YAAIE,aAAanB,GAAGa,WAAH,CAAe,KAAKL,YAApB,CAAjB;AACAR,WAAGc,IAAH,CAAQ,eAAR,EAAyBC,QAAzB,CAAkCI,UAAlC;AACAA,mBAAWH,WAAX,CAAuBJ,cAAcQ,WAAd,EAAvB;AACA;AACA,YAAIC,aAAarB,GAAGa,WAAH,CAAe,KAAKJ,WAApB,CAAjB;AACAT,WAAGc,IAAH,CAAQ,eAAR,EAAyBC,QAAzB,CAAkCM,UAAlC;AACAA,mBAAWL,WAAX,CAAuB,KAAKC,iBAAL,CAAuB,CAAvB,CAAvB;AACA,YAAIK,aAAatB,GAAGa,WAAH,CAAe,KAAKJ,WAApB,CAAjB;AACAT,WAAGc,IAAH,CAAQ,eAAR,EAAyBC,QAAzB,CAAkCO,UAAlC;AACAA,mBAAWN,WAAX,CAAuB,KAAKC,iBAAL,CAAuB,CAAvB,CAAvB;AAEH,KApCI;AAqCLA,uBAAmB,2BAAUM,IAAV,EAAgB;AAC/B,YAAGA,QAAM,CAAT,EAAW;AACP,gBAAIC,QAAQ,CAAC,GAAb;AACA,gBAAIC,QAAQ,CAAC,GAAD,GAAKzB,GAAG0B,UAAH,KAAkB,GAAnC;AACA,mBAAO1B,GAAG2B,CAAH,CAAKF,KAAL,EAAYD,KAAZ,CAAP;AACH;AACD,YAAGD,QAAM,CAAT,EAAW;AACP,gBAAIC,QAAQ,GAAZ;AACA,gBAAIC,QAAQ,CAAC,GAAD,GAAKzB,GAAG0B,UAAH,KAAkB,GAAnC;AACA,mBAAO1B,GAAG2B,CAAH,CAAKF,KAAL,EAAYD,KAAZ,CAAP;AACH;AACD,YAAGD,QAAM,CAAT,EAAW;AACP,gBAAIC,QAAQ,GAAZ;AACA,gBAAIC,QAAQ,CAAC,GAAD,GAAKzB,GAAG0B,UAAH,KAAkB,GAAnC;AACA,mBAAO1B,GAAG2B,CAAH,CAAKF,KAAL,EAAYD,KAAZ,CAAP;AACH;AACD,YAAGD,QAAM,CAAT,EAAW;AACP,gBAAIC,QAAQ,CAAC,EAAb;AACA,gBAAIC,QAAQ,CAAC,GAAD,GAAKzB,GAAG0B,UAAH,KAAkB,GAAnC;AACA,mBAAO1B,GAAG2B,CAAH,CAAKF,KAAL,EAAYD,KAAZ,CAAP;AACH;AACJ;AA1DI,CAAT","file":"game-control.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        startDoorPrefab:cc.Prefab,\r\n        endDoorPrefab:cc.Prefab,\r\n        playerPrefab:cc.Prefab,\r\n        boardPrefab:cc.Prefab\r\n\r\n    },\r\n\r\n    onLoad:function() {\r\n        this.createThings();\r\n        \r\n    },\r\n    createThings:function(){\r\n        //生成初始门\r\n        var startDoorNode = cc.instantiate(this.startDoorPrefab);\r\n        cc.find(\"Canvas/Center\").addChild(startDoorNode);\r\n        startDoorNode.setPosition(this.getRandomPosition(0));\r\n        //生成终点门\r\n        var endDoorNode = cc.instantiate(this.endDoorPrefab);\r\n        cc.find(\"Canvas/Center\").addChild(endDoorNode);\r\n        endDoorNode.setPosition(this.getRandomPosition(1));\r\n        //生成主角\r\n        var playerNode = cc.instantiate(this.playerPrefab);\r\n        cc.find(\"Canvas/Center\").addChild(playerNode);\r\n        playerNode.setPosition(startDoorNode.getPosition());\r\n        //生成两块板子\r\n        var board1Node = cc.instantiate(this.boardPrefab);\r\n        cc.find(\"Canvas/Center\").addChild(board1Node);\r\n        board1Node.setPosition(this.getRandomPosition(2));\r\n        var board2Node = cc.instantiate(this.boardPrefab);\r\n        cc.find(\"Canvas/Center\").addChild(board2Node);\r\n        board2Node.setPosition(this.getRandomPosition(3));\r\n        \r\n    },\r\n    getRandomPosition: function (door) {\r\n        if(door==0){\r\n            var randY = -265;\r\n            var randX = -250+cc.random0To1() * 500;\r\n            return cc.p(randX, randY);\r\n        }\r\n        if(door==1){\r\n            var randY = 365;\r\n            var randX = -250+cc.random0To1() * 500;\r\n            return cc.p(randX, randY);\r\n        }\r\n        if(door==2){\r\n            var randY = 150;\r\n            var randX = -185+cc.random0To1() * 370;\r\n            return cc.p(randX, randY);\r\n        }\r\n        if(door==3){\r\n            var randY = -50;\r\n            var randX = -185+cc.random0To1() * 370;\r\n            return cc.p(randX, randY);\r\n        }\r\n    },\r\n});\r\n"]}